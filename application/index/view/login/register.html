<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>注册界面</title>
		<script src="__STATIC__/jquery/jquery-3.2.1.min.js"></script>
		<script src="__STATIC__/bootstrap/js/bootstrap.js"></script>
		<link rel="stylesheet" href="__STATIC__/css/login/common.css" />
		<link rel="stylesheet" href="__STATIC__/css/login/reset.css" />

	</head>
	<body background="__STATIC__/image/logo_bg.jpg">
		<div class="wrap login_wrap">
			<div class="content">
				
				<div class="logo"  ></div>
				
				<div class="login_box">	
					
					<div class="login_form">
						<div class="login_title">
							注册
						</div>
						<form action="{:url('doReg')}" method="post" onsubmit="return check()">
							
							<div class="form_text_ipt">
								<input name="username" type="text" placeholder="用户名">
							</div>
							<div class="ececk_warning"><span id="error_username"></span></div>
							<div class="form_text_ipt">
								<input name="password" type="password" placeholder="密码">
							</div>
							<div class="ececk_warning"><span id ="error_pwd"></span></div>
							<div class="form_text_ipt">
								<input name="repassword" type="password" placeholder="重复密码">
							</div>
							<div class="ececk_warning"><span id="error_repwd"></span></div>
							<div style="width: 300px;height:40px;margin: 20px auto;" >
								<input name="yzm" style="width:150px;height: 40px;float:left" type="text" placeholder="验证码">
								<img class="yzm_img"  src="{:captcha_src()}" alt="captcha" onclick="change_cpt()" />
							</div>



							<div class="ececk_warning"><span id="error_yzm"></span></div>
							
							<div class="form_btn">
								<input type="submit"  value="注册" style="width: 290px;height: 40px;background: #FF7F50;color: white">
							</div>
							<div class="form_reg_btn">
								<span>已有帐号？</span><a href="{:url('login')}">马上登录</a>
							</div>
						</form>
						
						</div>
					</div>
				</div>
			</div>
		</div>
        <script type="text/javascript">
            function change_cpt() {
                $('.yzm_img').attr('src',"{:captcha_src()}?"+Math.random());
            }
            function check() {
                var username = $('[name="username"]').val()
                var password = $('[name="password"]').val()
                var repwd = $('[name="repassword"]').val()
                var yzm=$('[name="yzm"]').val()
                document.getElementById("error_username").innerHTML="";
                document.getElementById("error_pwd").innerHTML="";
                document.getElementById("error_repwd").innerHTML="";
                document.getElementById("error_yzm").innerHTML="";

                if (username == '') {
                    document.getElementById("error_username").innerHTML="用户名不能为空";
                    return false
                }
                else if (password =="") {
                    document.getElementById("error_pwd").innerHTML = "密码不能为空";
                    return false;
                }
                else if (repwd =="") {
                    document.getElementById("error_repwd").innerHTML="重复密码不能为空";
                    return false;
                    return false;
                }
                else if(yzm==""){
                    document.getElementById("error_yzm").innerHTML="验证码不能为空";
                    return false;
                }
                else if(password!=repwd){

                    document.getElementById("error_repwd").innerHTML="重复密码与密码不一致";
                    return false;
                }else{
                    return true;
                }
            }
        </script>



	</body>
</html>
